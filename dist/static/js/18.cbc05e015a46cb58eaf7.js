webpackJsonp([18,47],{"/Hir":function(a,e){},HXjr:function(a,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t("q4P/"),n=t("gyMJ"),i=(t("E4LH"),{name:"supplier",components:{AddOrUpdate:o.default},data:function(){return{addOrUpdateVisible:!1,dataListLoading:!1,pageSize:13,pageIndex:1,totalPage:1,dataForm:{Name:""},dataList:[]}},mounted:function(){this.getDataList()},methods:{getDataList:function(){var a=this,e={PageIndex:this.pageIndex,PageSize:this.pageSize,IsPaging:!0,name:this.dataForm.Name,Code:""};this.dataListLoading=!0,n.a.supplier.getSupplierList(e).then(function(e){"0000"===e.code&&(e.data&&(a.dataList=e.data),a.totalPage=e.total),a.dataListLoading=!1})},sizeChangeHandle:function(a){this.pageSize=a,this.getDataList()},currentChangeHandle:function(a){this.pageIndex=a,this.getDataList()},addOrUpdateHandle:function(a){var e=this;this.addOrUpdateVisible=!0,this.$nextTick(function(){e.$refs.addOrUpdate.init(a)})}}}),r={render:function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"mod-supplier"},[t("el-form",{attrs:{inline:!0,model:a.dataForm},nativeOn:{submit:function(e){e.preventDefault(),a.getDataList()}}},[t("el-form-item",[t("el-input",{attrs:{placeholder:"供应商名称",clearable:""},on:{clear:function(e){a.getDataList()}},model:{value:a.dataForm.Name,callback:function(e){a.$set(a.dataForm,"Name",e)},expression:"dataForm.Name"}})],1),a._v(" "),t("el-form-item",[t("el-button",{attrs:{icon:"el-icon-search"},on:{click:function(e){a.getDataList()}}},[a._v("查询")]),a._v(" "),t("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(e){a.addOrUpdateHandle()}}},[a._v("新增供应商")])],1)],1),a._v(" "),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:a.dataListLoading,expression:"dataListLoading"}],staticStyle:{width:"100%"},attrs:{data:a.dataList,border:"",stripe:"",height:a.$store.state.documentClientIFRMAE,"header-cell-style":a.$cxObj.tableHeaderStyle}},[t("el-table-column",{attrs:{align:a.$store.state.common.align,type:"index",label:"序号",width:"50px"}}),a._v(" "),t("el-table-column",{attrs:{prop:"Code","header-align":"center",align:a.$store.state.common.align,width:"100",label:"编码"}}),a._v(" "),t("el-table-column",{attrs:{prop:"ShortName","header-align":"center",align:a.$store.state.common.align,label:"供应商"}}),a._v(" "),t("el-table-column",{attrs:{prop:"Name","header-align":"center",align:a.$store.state.common.align,label:"厂家"}}),a._v(" "),t("el-table-column",{attrs:{prop:"Contact","header-align":"center",align:a.$store.state.common.align,label:"联系人"}}),a._v(" "),t("el-table-column",{attrs:{prop:"Phone","header-align":"center",align:a.$store.state.common.align,label:"联系电话"}}),a._v(" "),t("el-table-column",{attrs:{"header-align":"center",align:a.$store.state.common.align,width:"150",label:"操作"},scopedSlots:a._u([{key:"default",fn:function(e){return[t("el-button",{attrs:{type:"primary",size:"mini",plain:"",icon:"el-icon-edit"},on:{click:function(t){a.addOrUpdateHandle(e.row.Code)}}},[a._v("编辑\n        ")])]}}])})],1),a._v(" "),t("el-pagination",{attrs:{"current-page":a.pageIndex,"page-sizes":[10,13,20,50,100],"page-size":a.pageSize,total:a.totalPage,layout:"prev, pager, next, jumper, sizes, total",background:""},on:{"size-change":a.sizeChangeHandle,"current-change":a.currentChangeHandle}}),a._v(" "),a.addOrUpdateVisible?t("add-or-update",{ref:"addOrUpdate",on:{refreshDataList:a.getDataList}}):a._e()],1)},staticRenderFns:[]};var l=t("VU/8")(i,r,!1,function(a){t("/Hir")},"data-v-9d3c158c",null);e.default=l.exports},MV9n:function(a,e){},"q4P/":function(a,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t("gyMJ"),n=t("E4LH"),i={data:function(){return{visible:!1,dataListLoading:!1,dataForm:{Name:"",ShortName:"",Contact:"",Phone:"",Address:"",Code:"",QQ:"",Bank:"",TaxNo:"",BankAccount:"",BankAccountName:"",LicenseNo:""},dataRule:{ShortName:Object(n.a)("供应商不能为空"),Name:Object(n.a)("厂家不能为空"),Code:Object(n.a)("供应商编码不能为空"),Contact:Object(n.a)("联系人不能为空"),Phone:Object(n.d)(1),BankAccount:[{required:!0,message:"银行账号必填"},{type:"number",message:"账号必须为数字"}]}}},methods:{init:function(a){var e=this;if(this.dataForm.Code=a||"",this.visible=!0,this.dataForm.Code){var t={PageIndex:1,PageSize:10,IsPaging:!0,name:"",Code:this.dataForm.Code};this.dataListLoading=!0,o.a.supplier.getSupplierList(t).then(function(a){"0000"===a.code&&(e.dataForm=a.data[0]),e.dataListLoading=!1})}},handleClose:function(){this.dataForm={Name:"",ShortName:"",Contact:"",Phone:"",Address:"",Code:"",QQ:"",Bank:"",TaxNo:"",BankAccount:"",BankAccountName:"",LicenseNo:""},this.$refs.dataForm.clearValidate()},dataFormSubmit:function(){var a=this;this.$refs.dataForm.validate(function(e){if(e){var t={Name:a.dataForm.Name,ShortName:a.dataForm.ShortName,Contact:a.dataForm.Contact,Phone:a.dataForm.Phone,Address:a.dataForm.Address,QQ:"",Bank:"",TaxNo:"",BankAccount:"",BankAccountName:"",LicenseNo:""},n={id:a.dataForm.Id,Name:a.dataForm.Name,ShortName:a.dataForm.ShortName,Contact:a.dataForm.Contact,Phone:a.dataForm.Phone,Address:a.dataForm.Address,Code:a.dataForm.Code,QQ:"",Bank:"",TaxNo:"",BankAccount:"",BankAccountName:"",LicenseNo:""};(a.dataForm.Code?o.a.supplier.editSupplier(n):o.a.supplier.createSupplier(t)).then(function(e){"0000"===e.code&&(a.$message({message:"新增成功",type:"success",duration:1500}),a.visible=!1,a.$emit("refreshDataList"))})}})}}},r={render:function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:a.dataForm.roleId?"编辑供应商":"创建供应商","close-on-click-modal":!1,visible:a.visible},on:{"update:visible":function(e){a.visible=e},close:a.handleClose}},[t("el-form",{directives:[{name:"loading",rawName:"v-loading",value:a.dataListLoading,expression:"dataListLoading"}],ref:"dataForm",staticClass:"supplier-dialog",attrs:{model:a.dataForm,rules:a.dataRule,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"供应商",prop:"ShortName"}},[t("el-input",{attrs:{placeholder:"请输入供应商"},model:{value:a.dataForm.ShortName,callback:function(e){a.$set(a.dataForm,"ShortName",e)},expression:"dataForm.ShortName"}})],1),a._v(" "),t("el-form-item",{attrs:{label:"厂家",prop:"Name"}},[t("el-input",{attrs:{placeholder:"请输入厂家名"},model:{value:a.dataForm.Name,callback:function(e){a.$set(a.dataForm,"Name",e)},expression:"dataForm.Name"}})],1),a._v(" "),t("el-form-item",{attrs:{label:"联系人",prop:"Contact"}},[t("el-input",{attrs:{placeholder:"请输入联系人"},model:{value:a.dataForm.Contact,callback:function(e){a.$set(a.dataForm,"Contact",e)},expression:"dataForm.Contact"}})],1),a._v(" "),t("el-form-item",{attrs:{label:"联系电话",prop:"Phone"}},[t("el-input",{attrs:{placeholder:"请输入联系电话"},model:{value:a.dataForm.Phone,callback:function(e){a.$set(a.dataForm,"Phone",e)},expression:"dataForm.Phone"}})],1),a._v(" "),t("el-form-item",{attrs:{label:"供应商地址",prop:"Address"}},[t("el-input",{attrs:{placeholder:"请输入地址"},model:{value:a.dataForm.Address,callback:function(e){a.$set(a.dataForm,"Address",e)},expression:"dataForm.Address"}})],1)],1),a._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(e){a.visible=!1}}},[a._v("取消")]),a._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(e){a.dataFormSubmit()}}},[a._v("确定")])],1)],1)},staticRenderFns:[]};var l=t("VU/8")(i,r,!1,function(a){t("MV9n")},"data-v-16839b37",null);e.default=l.exports}});
//# sourceMappingURL=18.cbc05e015a46cb58eaf7.js.map