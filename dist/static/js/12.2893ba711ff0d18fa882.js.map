{"version":3,"sources":["webpack:///src/views/purchase/add-or-update.vue","webpack:///./src/views/purchase/add-or-update.vue?edeb","webpack:///./src/views/purchase/add-or-update.vue","webpack:///src/views/purchase/index.vue","webpack:///./src/views/purchase/index.vue?1227","webpack:///./src/views/purchase/index.vue"],"names":["add_or_update","Object","validate","_this","this","purchaseFatherList","id0","id1","storeId","val","_this2","_this3","pageIndex","pageSize","SpellName","categoryid","then","result","data","total","_this4","Code","item","_this5","fatherChecked","purchase_add_or_update","render","_vm","_h","$createElement","_c","_self","staticClass","directives","name","rawName","attrs","title","close-on-click-modal","width","visible","on","update:visible","$event","close","handleClose","ref","model","dataForm","rules","dataRule","label-width","inline","label","prop","placeholder","size","clearable","clear","drugsSearch","value","callback","$$v","$set","expression","_v","staticStyle","change","_l","key","text","type","click","dataList","border","stripe","height","header-cell-style","$cxObj","tableHeaderStyle40px","row-class-name","selection-change","selectionChangeHandle","header-align","align","$store","state","common","show-overflow-tooltip","scopedSlots","_u","fn","scope","style","color","row","Quantity","RedLine","_s","ShowName","current-page","page-sizes","page-size","totalPage","layout","size-change","sizeChangeHandle","current-change","currentChangeHandle","slot","dataFormSubmit","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","purchase","AddOrUpdate","ComStore","com_store","undefined","window","sessionStorage","getItem","StoreId","Buyer","Phone","Address","Remark","supplierId","supplierCode","CategoryText","CategoryId","oldCategoryText","next","arr","pageInit","choseStoreId","getDataList","Id","Contact","id","_this6","push","_this7","StoreCode","myNum","views_purchase","savePurchase","icon","disabled","addOrUpdateHandle","dataListSelections","length","deleteHandle","background-color","margin-bottom","border-radius","getters","getAccountLoginInfoAll","categoryTextHandle","handleSupplier","ShortName","paramsFather","label_0","size_1","width_2","clear_3","multiple_4","must_5","isTrigger","eventStore","changeStoreData","documentClientIFRMAE","min-width","precision","step","min","max","handleChange","plain","autosize","minRows","maxRows","purchaseFormal","refreshDataList","_e"],"mappings":"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","file":"static/js/12.2893ba711ff0d18fa882.js","sourcesContent":["<template>\n  <div class=\"mod-purchase-child\">\n    <el-dialog\n      v-dialogDrag\n      :title=\"'商品导入'\"\n      :close-on-click-modal=\"false\" width=\"970px\"\n      :visible.sync=\"visible\"\n      @close=\"handleClose\">\n      <el-form :model=\"dataForm\" :rules=\"dataRule\" ref=\"dataForm\" label-width=\"0\" :inline=\"true\">\n        <el-form-item label=\"\" prop=\"SpellName\">\n          <el-input v-model=\"dataForm.SpellName\" placeholder=\"拼音搜索\" size=\"mini\" clearable @clear=\"drugsSearch()\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"\">\n          <el-select v-model=\"dataForm.Order\" placeholder=\"排序\" clearable @change=\"drugsSearch()\" size=\"mini\" style=\"width: 120px\">\n            <el-option v-for=\"item in orderArr\" :key=\"item.text\" :label=\"item.text\" :value=\"item.val\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"\">\n          <el-button type=\"primary\" @click=\"drugsSearch()\" size=\"mini\">搜索</el-button>\n        </el-form-item>\n        <br>\n        <el-table\n          :data=\"dataList\" ref=\"tableChild\"\n          border stripe\n          :height=\"450\"\n          v-loading=\"dataListLoading\"\n          @selection-change=\"selectionChangeHandle\"\n          :header-cell-style=\"$cxObj.tableHeaderStyle40px\"\n          row-class-name=\"purchaseTableRowClass\"\n          style=\"width: 100%;\">\n          <!--ascending descending-->\n          <el-table-column type=\"selection\" header-align=\"center\" :align=\"$store.state.common.align\" width=\"50\"></el-table-column>\n          <el-table-column :align=\"$store.state.common.align\" type=\"index\" label=\"序号\" width=\"50px\"></el-table-column>\n          <el-table-column prop=\"CategoryName\" header-align=\"center\" :align=\"$store.state.common.align\" width=\"100\" label=\"药态\" :show-overflow-tooltip=\"true\"></el-table-column>\n          <el-table-column prop=\"Code\" header-align=\"center\" :align=\"$store.state.common.align\" width=\"100\" label=\"商品编码\" :show-overflow-tooltip=\"true\"></el-table-column>\n          <el-table-column header-align=\"center\" :align=\"$store.state.common.align\" label=\"药材名称\">\n            <template slot-scope=\"scope\">\n              <span :style=\"{color: scope.row.Quantity < scope.row.RedLine ? '#e4393c' : '#333'}\">{{ scope.row.ShowName }}</span>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"Specification\" header-align=\"center\" :align=\"$store.state.common.align\" label=\"规格\" :show-overflow-tooltip=\"true\"></el-table-column>\n          <!--<el-table-column prop=\"Unit\" header-align=\"center\" :align=\"$store.state.common.align\" label=\"单位\"></el-table-column>-->\n          <el-table-column header-align=\"center\" :align=\"$store.state.common.align\" label=\"库存 (余量)\" :show-overflow-tooltip=\"true\">\n            <template slot-scope=\"scope\">\n              <span :style=\"{color: scope.row.Quantity < scope.row.RedLine ? '#e4393c' : '#333'}\">{{ scope.row.Quantity }}</span>\n            </template>\n          </el-table-column>\n          <!--<el-table-column prop=\"CostPrice\" header-align=\"center\" :align=\"$store.state.common.align\" label=\"上一次的进价\" width=\"116\"></el-table-column>-->\n          <el-table-column prop=\"RedLine\" header-align=\"center\" :align=\"$store.state.common.align\" label=\"预警量\" :show-overflow-tooltip=\"true\"></el-table-column>\n        </el-table>\n        <el-pagination\n          @size-change=\"sizeChangeHandle\"\n          @current-change=\"currentChangeHandle\"\n          :current-page=\"pageIndex\"\n          :page-sizes=\"[10, 20, 50, 100]\"\n          :page-size=\"pageSize\"\n          :total=\"totalPage\"\n          layout=\"prev, pager, next, jumper, sizes, total\">\n        </el-pagination>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"visible = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"dataFormSubmit()\">确定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n<script type=\"text/ecmascript-6\">\nimport API from '@/api'\n// import {treeDataTranslate} from '@/utils'\nimport {Letter} from '../../utils/validate'\nexport default {\n  props: ['purchaseFatherList'],\n  data () {\n    return {\n      ownPurchaseFatherList: [], // 所有勾选过的的商品 分页记忆\n      dataListViews: [], // 所有看过的商品 分页记忆\n\n      visible: false,\n      dataListLoading: false, // 加载v-loading\n      pageIndex: 1,\n      pageSize: 10,\n      totalPage: 0,\n      orderArr: [{\n        text: '库存减预警（小到大）',\n        val: 'LeftRedLineAsc'\n      }, {\n        text: '库存减预警（大到小）',\n        val: 'LeftRedLineDesc'\n      }],\n\n      categoryId: '',\n      storeId: '',\n\n      dataRule: {\n        SpellName: Letter()\n      },\n      drugsCategoryList: [], // 先请求药品种类列表\n      dataForm: {\n        SpellName: '',\n        Order: ''\n        // CategoryId: ''\n      },\n      dataList: [],\n      dataListSelections: [],\n      // purchaseRegistered: [], // 采购单注册记名列表\n      isInit: true\n    }\n  },\n  watch: {\n    dataList (n, o) {\n      this.$nextTick(() => {\n        this.ownPurchaseFatherList = this.ownPurchaseFatherList.length > 0 ? this.ownPurchaseFatherList : this.purchaseFatherList\n        // console.log(this.ownPurchaseFatherList)\n        this.dataList.forEach(item => {\n          // console.log('这儿执行就有问题')\n          this.ownPurchaseFatherList.forEach(row => {\n            if (item.Code === row.Code) {\n              this.$refs.tableChild.toggleRowSelection(item, true) // 默认初始isInit勾选\n            }\n          })\n        })\n        this.isInit = false\n      })\n    }\n  },\n  methods: {\n    init (id0, id1) {\n      this.categoryId = id0\n      this.storeId = id1\n      // debugger\n      this.getDataList(this.categoryId, this.storeId)\n    },\n    // 每页数\n    sizeChangeHandle (val) {\n      this.pageSize = val // this.pageIndex = 1\n      this.isInit = true\n      this.getDataList(this.categoryId, this.storeId)\n    },\n    // 当前页\n    currentChangeHandle (val) {\n      this.pageIndex = val\n      this.isInit = true\n      this.getDataList(this.categoryId, this.storeId)\n    },\n    drugsSearch () {\n      this.$refs['dataForm'].validate((valid) => {\n        if (valid) {\n          this.isInit = true\n          this.getDataList(this.categoryId, this.storeId)\n        }\n      })\n    },\n    getDataList (categoryid, storeid) {\n      this.dataListLoading = true\n      // ※ 为什么给注释了呢：本来打算弄门店库存接口（可根据库存量勾选），但后来还是用的老创建药材列表界面的获取接口\n      // API.storeStock.getStoreStock({ // 药材来源门店库存\n      //   PageIndex: this.pageIndex,\n      //   PageSize: this.pageSize,\n      //   IsPaging: 'true',\n      //   SupplierId: '',\n      //   StoreId: storeid, // 父组件传递（用于请求对应门店自身的库存列表）且必填项!!!\n      //   CategoryId: categoryid, // 父组件传递\n      //\n      //   SpellName: this.dataForm.SpellName, // 子组件的input\n      //   ProductName: '', // 子组件的input\n      //   RedLine: '', // 子组件的input\n      //\n      //   BrandId: '', // 品牌ID 忽略\n      //   ProductCodeOrBarCode: '', // 商品编码 忽略\n      //   Order: '' //\n      API.drugs.getDrugsList({\n        Name: '',\n        PageIndex: this.pageIndex,\n        PageSize: this.pageSize,\n        IsPaging: 'true',\n        SpellName: this.dataForm.SpellName,\n        CategoryId: categoryid,\n        StoreId: storeid, // 传不传门店id决定了是否返回库存余量!!!\n        CodeOrBarCode: '', // 暂无\n        Order: this.dataForm.Order // 排序  ---LeftRedLineDesc  LeftRedLineAsc库存量-警告值 排序\n      }).then(result => {\n        if (result.code === '0000' && result.data.length > 0) {\n          this.dataList = result.data\n          this.totalPage = result.total\n          console.log(result.data)\n          if (this.dataListViews.length === 0) {\n            this.dataListViews = this.dataListViews.concat(result.data) // 会打散拼接到尾巴，旧数组不变\n          } else if (this.dataListViews.some(item => item.Code === result.data[0].Code || item.Code === result.data[this.pageSize - 1]).Code) {\n            this.dataListViews = this.dataListViews.concat([])\n          } else {\n            this.dataListViews = this.dataListViews.concat(result.data)\n          }\n        } else {\n          // this.$message({ message: '查询结果为空', type: 'warning', duration: 3000 })\n          this.dataList = []\n          this.$message({ message: `${result.message}`, type: 'warning', duration: 3000 })\n        }\n        this.dataListLoading = false\n      })\n      this.visible = true\n    },\n\n    selectionChangeHandle (val) {\n      this.dataListSelections = val\n      if (this.isInit === false) {\n        if (this.ownPurchaseFatherList.length !== 0) { // 先删\n          this.dataList.forEach(row => {\n            this.ownPurchaseFatherList = this.ownPurchaseFatherList.filter(item => {\n              return item.Code !== row.Code\n            })\n          })\n        }\n        val.forEach(item => {\n          this.ownPurchaseFatherList.push(item)\n        })\n      }\n    },\n    handleClose () {\n      // this.dataList = [] 这两行注释的还不能写，不然又有bug，你可以把注释取消了看看\n      // this.dataListViews = []\n      this.ownPurchaseFatherList = []\n      this.isInit = true // 儿豁，这个true这一句，精神处于崩溃边缘\n    },\n    // 表单提交\n    dataFormSubmit () {\n      this.$confirm(`确定将此次勾选的商品纳入采购列表?`, '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        var fatherChecked = this.ownPurchaseFatherList // 因为父组件传递给子组件的值vue官网不推荐直接修改\n        if (fatherChecked.length !== 0) { // 假如首次导入，父组件传递的选中列表就为空，那么就不执行删除而跳过此语句\n          this.dataListViews.forEach(row => {\n            fatherChecked = fatherChecked.filter(item => {\n              return item.Code !== row.Code\n            })\n          })\n        }\n        this.ownPurchaseFatherList.forEach(item => {\n          fatherChecked.push(item)\n        })\n        this.$emit('refreshDataList', fatherChecked)\n        this.visible = false\n      })\n    }\n  }\n}\n</script>\n<style rel=\"stylesheet/scss\" lang=\"scss\" scoped>\n.mod {\n  &-purchase-child {\n    margin:10px;\n    & /deep/ .el-dialog {width: 70%}\n    & /deep/ .el-dialog__body {padding: 0 20px}\n    & /deep/ .purchaseTableRowClass {\n      height: 30px;\n      line-height: 30px;\n    }\n    .el-pagination {\n      margin-top: 5px;\n      margin-left: -15px;\n      text-align: left;\n    }\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/purchase/add-or-update.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mod-purchase-child\"},[_c('el-dialog',{directives:[{name:\"dialogDrag\",rawName:\"v-dialogDrag\"}],attrs:{\"title\":'商品导入',\"close-on-click-modal\":false,\"width\":\"970px\",\"visible\":_vm.visible},on:{\"update:visible\":function($event){_vm.visible=$event},\"close\":_vm.handleClose}},[_c('el-form',{ref:\"dataForm\",attrs:{\"model\":_vm.dataForm,\"rules\":_vm.dataRule,\"label-width\":\"0\",\"inline\":true}},[_c('el-form-item',{attrs:{\"label\":\"\",\"prop\":\"SpellName\"}},[_c('el-input',{attrs:{\"placeholder\":\"拼音搜索\",\"size\":\"mini\",\"clearable\":\"\"},on:{\"clear\":function($event){_vm.drugsSearch()}},model:{value:(_vm.dataForm.SpellName),callback:function ($$v) {_vm.$set(_vm.dataForm, \"SpellName\", $$v)},expression:\"dataForm.SpellName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"\"}},[_c('el-select',{staticStyle:{\"width\":\"120px\"},attrs:{\"placeholder\":\"排序\",\"clearable\":\"\",\"size\":\"mini\"},on:{\"change\":function($event){_vm.drugsSearch()}},model:{value:(_vm.dataForm.Order),callback:function ($$v) {_vm.$set(_vm.dataForm, \"Order\", $$v)},expression:\"dataForm.Order\"}},_vm._l((_vm.orderArr),function(item){return _c('el-option',{key:item.text,attrs:{\"label\":item.text,\"value\":item.val}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.drugsSearch()}}},[_vm._v(\"搜索\")])],1),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.dataListLoading),expression:\"dataListLoading\"}],ref:\"tableChild\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.dataList,\"border\":\"\",\"stripe\":\"\",\"height\":450,\"header-cell-style\":_vm.$cxObj.tableHeaderStyle40px,\"row-class-name\":\"purchaseTableRowClass\"},on:{\"selection-change\":_vm.selectionChangeHandle}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"header-align\":\"center\",\"align\":_vm.$store.state.common.align,\"width\":\"50\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":_vm.$store.state.common.align,\"type\":\"index\",\"label\":\"序号\",\"width\":\"50px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"CategoryName\",\"header-align\":\"center\",\"align\":_vm.$store.state.common.align,\"width\":\"100\",\"label\":\"药态\",\"show-overflow-tooltip\":true}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"Code\",\"header-align\":\"center\",\"align\":_vm.$store.state.common.align,\"width\":\"100\",\"label\":\"商品编码\",\"show-overflow-tooltip\":true}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"header-align\":\"center\",\"align\":_vm.$store.state.common.align,\"label\":\"药材名称\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{style:({color: scope.row.Quantity < scope.row.RedLine ? '#e4393c' : '#333'})},[_vm._v(_vm._s(scope.row.ShowName))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"Specification\",\"header-align\":\"center\",\"align\":_vm.$store.state.common.align,\"label\":\"规格\",\"show-overflow-tooltip\":true}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"header-align\":\"center\",\"align\":_vm.$store.state.common.align,\"label\":\"库存 (余量)\",\"show-overflow-tooltip\":true},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{style:({color: scope.row.Quantity < scope.row.RedLine ? '#e4393c' : '#333'})},[_vm._v(_vm._s(scope.row.Quantity))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"RedLine\",\"header-align\":\"center\",\"align\":_vm.$store.state.common.align,\"label\":\"预警量\",\"show-overflow-tooltip\":true}})],1),_vm._v(\" \"),_c('el-pagination',{attrs:{\"current-page\":_vm.pageIndex,\"page-sizes\":[10, 20, 50, 100],\"page-size\":_vm.pageSize,\"total\":_vm.totalPage,\"layout\":\"prev, pager, next, jumper, sizes, total\"},on:{\"size-change\":_vm.sizeChangeHandle,\"current-change\":_vm.currentChangeHandle}})],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.visible = false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.dataFormSubmit()}}},[_vm._v(\"确定\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-be8403c4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/purchase/add-or-update.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-be8403c4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./add-or-update.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./add-or-update.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./add-or-update.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-be8403c4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./add-or-update.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-be8403c4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/purchase/add-or-update.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"mod-purchase\">\n    <el-form :inline=\"true\" :model=\"dataForm\" ref=\"dataForm\" label-width=\"80px\">\n      <el-form-item>\n        <el-button type=\"primary\" size=\"mini\" @click=\"savePurchase()\">保存采购单</el-button>\n        <el-button type=\"primary\" @click=\"addOrUpdateHandle(dataForm.CategoryId, dataForm.StoreId)\" size=\"mini\" icon=\"el-icon-plus\" :disabled=\"dataForm.StoreId > 0 ? false : true\">商品导入</el-button>\n        <el-button type=\"danger\" @click=\"deleteHandle()\" icon=\"el-icon-delete\" :disabled=\"dataListSelections.length <= 0\" size=\"mini\">批量移除</el-button>\n      </el-form-item>\n      <br>\n      <div style=\"background-color: #F5F7FA;margin-bottom: -5px;border-radius: 5px 5px 0 0\">\n        <el-form-item label=\"操作账号\" prop=\"\">\n          <el-input v-model=\"$store.getters.getAccountLoginInfoAll.NickName\" placeholder=\"操作账号\" clearable size=\"mini\" style=\"width: 100px\" :disabled=\"true\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"\" prop=\"CategoryText\">\n          <el-radio-group v-model=\"dataForm.CategoryText\" size=\"mini\" @change=\"categoryTextHandle\">\n            <el-radio-button v-for=\"item in drugsCategoryList\" :key=\"item.id\"\n                             :label=\"item.text\"></el-radio-button>\n          </el-radio-group>\n        </el-form-item>\n        <el-form-item label=\"\" prop=\"\">\n          <el-select v-model=\"dataForm.supplierId\" placeholder=\"供应厂商\" style=\"width: 150px\" size=\"mini\" @change=\"handleSupplier\">\n            <el-option v-for=\"item in supplierArr\" :key=\"item.Id\" :label=\"item.ShortName\" :value=\"item.Id\"></el-option>\n          </el-select>\n        </el-form-item>\n        <com-store :paramsFather=\"{\n          'label_0': '',\n          'size_1': 'mini',\n          'width_2': '150px',\n          'clear_3': true,\n          'multiple_4': false,\n          'must_5': false,\n          'isTrigger': false\n        }\" ref=\"comStore\" @eventStore=\"changeStoreData\"></com-store>\n      </div>\n    </el-form>\n\n    <el-table\n      :data=\"dataList\"\n      border stripe\n      :height=\"$store.state.documentClientIFRMAE\"\n      v-loading=\"dataListLoading\"\n      @selection-change=\"selectionChangeHandle\"\n      :header-cell-style=\"$cxObj.tableHeaderStyle40px\"\n      row-class-name=\"purchaseTableRowClass\"\n      style=\"width: 100%;\">\n      <el-table-column type=\"selection\" header-align=\"center\" :align=\"$store.state.common.align\" width=\"50\"></el-table-column>\n      <el-table-column :align=\"$store.state.common.align\" type=\"index\" label=\"序号\" width=\"50px\"></el-table-column>\n      <el-table-column prop=\"Code\" header-align=\"center\" :align=\"$store.state.common.align\" width=\"100\" label=\"商品编码\"></el-table-column>\n      <el-table-column prop=\"ShowName\" header-align=\"center\" :align=\"$store.state.common.align\" label=\"药材名称\"></el-table-column>\n      <el-table-column prop=\"Specification\" header-align=\"center\" :align=\"$store.state.common.align\" label=\"规格\" :show-overflow-tooltip=\"true\"></el-table-column>\n      <!--<el-table-column prop=\"\" header-align=\"center\" :align=\"$store.state.common.align\" label=\"进价\" min-width=\"110\">-->\n        <!--<template slot-scope=\"scope\">-->\n          <!--<el-input-number v-model=\"scope.row.SalePrice\" :precision=\"2\" :step=\"0.1\" :min=\"0.1\" :max=\"100\" size=\"mini\" controls-position=\"right\"></el-input-number>-->\n        <!--</template>-->\n      <!--</el-table-column>-->\n      <el-table-column prop=\"Quantity\" header-align=\"center\" :align=\"$store.state.common.align\" label=\"库存 (余量)\" min-width=\"110\"></el-table-column>\n      <!--<el-table-column prop=\"CostPrice\" header-align=\"center\" :align=\"$store.state.common.align\" label=\"上一次的进价\" :show-overflow-tooltip=\"true\"></el-table-column>-->\n      <el-table-column header-align=\"center\" :align=\"$store.state.common.align\" label=\"采购量\" min-width=\"110\">\n        <template slot-scope=\"scope\">\n          <el-input-number v-model=\"scope.row.myNum\" :precision=\"2\" :step=\"1\"\n                           @change=\"handleChange\" :min=\"0.1\" :max=\"10000\" size=\"mini\"></el-input-number>\n        </template>\n      </el-table-column>\n      <!--<el-table-column prop=\"\" header-align=\"center\" :align=\"$store.state.common.align\" label=\"单位\"></el-table-column>-->\n      <el-table-column header-align=\"center\" :align=\"$store.state.common.align\" width=\"190\" label=\"操作\">\n        <template slot-scope=\"scope\">\n          <el-button type=\"text\" size=\"mini\" plain\n                     @click=\"deleteHandle(scope.row.Id)\">移除\n          </el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <el-input v-model=\"dataForm.Buyer\" placeholder=\"联系人\" style=\"width: 80px\" size=\"mini\"></el-input>\n    <el-input v-model=\"dataForm.Phone\" placeholder=\"联系电话\" style=\"width: 120px\" size=\"mini\"></el-input>\n    <el-input v-model=\"dataForm.Address\" placeholder=\"门店地址\" style=\"width: 160px\" size=\"mini\"></el-input>\n    <el-input\n      size=\"mini\" style=\"width: 300px\"\n      type=\"textarea\"\n      :autosize=\"{ minRows: 1, maxRows: 4}\"\n      placeholder=\"请输入进货备注\"\n      v-model=\"dataForm.Remark\">\n    </el-input>\n    <add-or-update v-if=\"addOrUpdateVisible\" :purchaseFatherList=\"purchaseFormal\" ref=\"addOrUpdate\" @refreshDataList=\"getDataList\"></add-or-update>\n  </div>\n</template>\n<script type=\"text/ecmascript-6\">\nimport AddOrUpdate from './add-or-update'\nimport API from '@/api'\nimport {formatDate} from '@/utils/validate'\nimport ComStore from '../common/com-store'\nexport default {\n  name: 'role',\n  data () {\n    return {\n      addOrUpdateVisible: false,\n      dataListLoading: false, // 加载v-loading\n\n      pageSize: 10,\n      pageIndex: 1,\n      totalPage: 1,\n      dataForm: {\n        Name: '',\n        // UserName: '', // 当前页面登陆的账号名\n        // View: true, // 是否显示门店筛选组件\n        supplierId: '0',\n        supplierCode: '',\n\n        isOriginHistory: false, // 是否来源于历史操作, 这个字段2019.5.5号加的，目的是如果通过保存来初始化页面，门店初始化那步会把一些数据误清空掉，后来就加了个字段是调用历史记录初始化页面时触发切换门店事件不清空页面中间的历史数据，反正就是那个意思嘛，好奇的话自己想\n        StoreId: '0',\n        StoreCode: '',\n        Buyer: '',\n        Phone: '',\n        Address: '',\n        CategoryText: '', // 这两个后端不需要，只是前端自己弄来做一些判断而已\n        CategoryId: '', //\n        Remark: ''\n      },\n      oldCategoryText: '', // 切换药态时，此信息可以判断用户点的取消，还是确定\n      // oldCategoryId: '', //\n\n      supplierArr: [],\n      drugsCategoryList: [],\n\n      dataListSelections: [],\n      dataList: [],\n      purchaseFormal: [] // 采购单正式列表\n    }\n  },\n  components: {\n    AddOrUpdate,\n    ComStore\n  },\n  computed: {\n  },\n  // 进入采购页\n  beforeRouteEnter (to, from, next) {\n    if (to.path === '/drugs/purchase') {\n      next(vm => {\n        // 这儿的[]==[]为false…… 还有神奇的vm，都不晓得哪冒出来的，居然可以直接用，这查查资料\n        console.log(window.sessionStorage.getItem('modPurchaseList'))\n        if (window.sessionStorage.getItem('modPurchaseList') !== '[]' && JSON.parse(window.sessionStorage.getItem('modPurchaseList')) !== '' &&\n          window.sessionStorage.getItem('modPurchaseList') !== undefined && window.sessionStorage.getItem('modPurchaseList') !== null) {\n          // console.log(window.sessionStorage.getItem('modPurchaseList'))\n          vm.$confirm(`系统有历史保存信息，是否调用？`, '提示', {\n            confirmButtonText: '确定',\n            cancelButtonText: '取消',\n            closeOnClickModal: false,\n            closeOnPressEscape: false,\n            type: 'warning'\n          }).then(() => {\n            vm.dataList = JSON.parse(window.sessionStorage.getItem('modPurchaseList'))\n            vm.purchaseFormal = JSON.parse(window.sessionStorage.getItem('modPurchaseList'))\n            vm.dataForm.StoreId = JSON.parse(window.sessionStorage.getItem('modPurchasePeopleInfo')).StoreId\n            vm.isOriginHistory = true\n            vm.$refs.comStore.pageInit(vm.dataForm.StoreId)\n            vm.dataForm.Buyer = JSON.parse(window.sessionStorage.getItem('modPurchasePeopleInfo')).Buyer\n            vm.dataForm.Phone = JSON.parse(window.sessionStorage.getItem('modPurchasePeopleInfo')).Phone\n            vm.dataForm.Address = JSON.parse(window.sessionStorage.getItem('modPurchasePeopleInfo')).Address\n            vm.dataForm.Remark = JSON.parse(window.sessionStorage.getItem('modPurchasePeopleInfo')).Remark\n            vm.dataForm.supplierId = JSON.parse(window.sessionStorage.getItem('modPurchasePeopleInfo')).supplierId\n            vm.dataForm.supplierCode = JSON.parse(window.sessionStorage.getItem('modPurchasePeopleInfo')).supplierCode\n            vm.dataForm.CategoryText = JSON.parse(window.sessionStorage.getItem('modPurchasePeopleInfo')).CategoryText\n            vm.dataForm.CategoryId = JSON.parse(window.sessionStorage.getItem('modPurchasePeopleInfo')).CategoryId\n            vm.oldCategoryText = JSON.parse(window.sessionStorage.getItem('modPurchasePeopleInfo')).oldCategoryText\n            window.sessionStorage.setItem('modPurchaseList', JSON.stringify([]))\n            window.sessionStorage.setItem('modPurchasePeopleInfo', '')\n            // console.log(vm.dataList)\n            // console.log(vm.purchaseFormal)\n            // console.log(vm)\n          }).catch(() => {\n            window.sessionStorage.setItem('modPurchaseList', JSON.stringify([]))\n            window.sessionStorage.setItem('modPurchasePeopleInfo', '')\n          })\n        }\n        next()\n      })\n    }\n  },\n  // 离开采购页时\n  beforeRouteLeave (to, from, next) {\n    if (from.path === '/drugs/purchase' && this.dataList.join() !== '') {\n      this.$confirm(`检测到未保存的内容，是否在离开页面前保存修改？`, '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        closeOnClickModal: false,\n        closeOnPressEscape: false,\n        type: 'warning'\n      }).then(() => {\n        window.sessionStorage.setItem('modPurchaseList', JSON.stringify(this.dataList))\n        var arr = {\n          StoreId: this.dataForm.StoreId,\n          Buyer: this.dataForm.Buyer,\n          Phone: this.dataForm.Phone,\n          Address: this.dataForm.Address,\n          Remark: this.dataForm.Remark,\n          supplierId: this.dataForm.supplierId,\n          supplierCode: this.dataForm.supplierCode,\n          CategoryText: this.dataForm.CategoryText,\n          CategoryId: this.dataForm.CategoryId,\n          oldCategoryText: this.oldCategoryText\n        }\n        window.sessionStorage.setItem('modPurchasePeopleInfo', JSON.stringify(arr))\n        next()\n      }).catch(() => {\n        this.$message({type: 'info', message: '放弃保存并离开页面'})\n        window.sessionStorage.setItem('modPurchaseList', JSON.stringify([]))\n        window.sessionStorage.setItem('modPurchasePeopleInfo', '')\n        next()\n      })\n    } else {\n      next()\n    }\n  },\n  mounted () {\n    this.pageInit()\n  },\n  methods: {\n    changeStoreData (choseStoreId, isMultiple) { // 任何账号唯一的归属门店,单选、多选类型门店\n      if (isMultiple === false) {\n        this.dataForm.StoreId = choseStoreId\n        // 当门店改变后，电话地址联系人那些也要改变\n        if (this.dataForm.StoreId === '') {\n          this.dataForm.StoreId = ''\n          this.dataForm.StoreCode = ''\n          this.dataForm.Buyer = ''\n          this.dataForm.Phone = ''\n          this.dataForm.Address = ''\n          this.getDataList()\n          return false\n        } else {\n          if (this.isOriginHistory === true) {\n            this.isOriginHistory = false\n            return false\n          }\n          API.store.storeAll({\n            name: '',\n            PageIndex: 1,\n            PageSize: 1000,\n            IsPaging: true,\n            code: '',\n            canViewStores: this.dataForm.StoreId\n          }).then(result => {\n            if (result.code === '0000') {\n              this.dataForm.StoreId = result.data[0].Id\n              this.dataForm.StoreCode = result.data[0].Code\n              this.dataForm.Buyer = result.data[0].Contact\n              this.dataForm.Phone = result.data[0].Phone\n              this.dataForm.Address = result.data[0].Address\n              this.getDataList()\n            }\n          })\n        }\n      }\n    },\n    pageInit () {\n      this.dataListLoading = true\n      // 先并发请求 供应商、药态(最后单独请求第三个，根据当前登陆账号觉得是否禁用门店下拉)\n      function funSupplier () { return API.supplier.getSupplierList({name: '', PageIndex: '1', PageSize: '1000', IsPaging: true, code: ''}) }\n      function funCategory () { return API.drugs.getDrugsCategory() }\n      this.$ios.all([funSupplier(), funCategory()]).then(this.$ios.spread((resultSupplier, resultCategory) => {\n        if (resultSupplier.code === '0000' && resultCategory.code === '0000') {\n          this.supplierArr = resultSupplier.data // 初始化供应商\n\n          this.drugsCategoryList = resultCategory.data.filter((item, index) => { return index > 0 }) // 初始化药态\n          this.dataForm.CategoryText = this.drugsCategoryList[0].text\n          this.dataForm.CategoryId = this.drugsCategoryList[0].id\n          this.oldCategoryText = this.drugsCategoryList[0].text\n          this.dataListLoading = false\n        }\n        // this.$nextTick(() => {\n        //   // 初始化页面完毕后才，处理去获取当前页面login信息，获得账号下对应门店的详情---（识别当前账号是：管理员账号、还是1对1类型的账号）\n        //   API.store.storeAll({\n        //     name: '',\n        //     PageIndex: 1,\n        //     PageSize: 1000,\n        //     IsPaging: true,\n        //     code: '',\n        //     canViewStores: result.data.CanViewStores\n        //   }).then(result => {\n        //     if (result.code === '0000') {\n        //       this.dataForm.StoreId = result.data[0].Id\n        //       this.dataForm.StoreCode = result.data[0].Code\n        //       this.dataForm.Buyer = result.data[0].Contact\n        //       this.dataForm.Phone = result.data[0].Phone\n        //       this.dataForm.Address = result.data[0].Address\n        //       this.getDataList()\n        //     }\n        //   })\n        // }\n      }))\n    },\n    categoryTextHandle (text) {\n      this.$confirm('此操作将清空之前的记录! 是否要继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.getDataList() // 确定切换药态后，就会清空\n        this.drugsCategoryList.forEach(item => {\n          if (item.text === text) {\n            this.dataForm.CategoryId = item.id // 这个药态的id会传递给子组件，用于弹窗时正确请求对应的药材列表\n            this.oldCategoryText = item.text\n            // console.log(this.dataForm.CategoryText)\n            // console.log(this.oldCategoryText)\n            // console.log(this.dataForm.CategoryId)\n          }\n        })\n      }).catch(() => {\n        this.dataForm.CategoryText = this.oldCategoryText\n      })\n    },\n    // 切换供应商时\n    handleSupplier (supplierId) {\n      var handChild = this.supplierArr.filter(item => {\n        return item.Id === supplierId\n      })\n      this.dataForm.supplierId = handChild[0].Id\n      this.dataForm.supplierCode = handChild[0].Code\n    },\n    selectionChangeHandle (val) {\n      this.dataListSelections = val\n    },\n    // 这儿哟，子组件第一个勾选会跑到父组件的bug 连续x=x=arr造成的，好像是，后来感觉好像又不是\n    getDataList (arr) {\n      if (String(arr) === '[]' || arr === undefined) {\n        this.dataList = []\n        this.purchaseFormal = []\n      } else {\n        arr.forEach(item => {\n          item.myNum = '1' // 添加字段myNum为初始采购量，默认最小值1，后来考虑到0.5kg，干脆弄出了最小值0.1得了，不过初始值为1\n        })\n        this.dataList = arr\n        this.purchaseFormal = arr\n      }\n    },\n    addOrUpdateHandle (id0, id1) { // id0是药态类型、饮片、颗粒等+id1门店id\n      this.addOrUpdateVisible = true\n      console.log(id1)\n      this.$nextTick(() => {\n        this.$refs.addOrUpdate.init(id0, id1)\n      })\n    },\n    // 删除\n    deleteHandle (Id) {\n      this.$confirm(`${Id === undefined ? '批量' : ''}移除Id为[${Id === undefined ? this.dataListSelections.map(item => {\n        return item.Id\n      }).join() : Id}]的项?`, '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        console.log(Id)\n        if (Id === undefined) {\n          for (var i = 0; i < this.dataListSelections.length; i++) {\n            this.purchaseFormal = this.dataList = this.purchaseFormal.filter(item => {\n              return item.Id !== this.dataListSelections[i].Id\n            })\n          }\n        } else {\n          this.purchaseFormal = this.dataList = this.purchaseFormal.filter(item => {\n            return item.Id !== Id\n          })\n        }\n      })\n    },\n    handleChange () {\n      this.dataList.push()\n      // this.purchaseFormal 正式购买\n    },\n    // 正式提交采购单\n    savePurchase () {\n      if (String(this.dataList) !== [] && String(this.dataList) !== '') {\n        var params = {\n          Buyer: this.dataForm.Buyer,\n          Phone: this.dataForm.Phone,\n          Address: this.dataForm.Address,\n          Remark: this.dataForm.Remark,\n          OrderType: 1,\n          StoreId: this.dataForm.StoreId,\n          StoreCode: this.dataForm.StoreCode,\n          Items: JSON.stringify(this.dataList.map(item => {\n            return {\n              ProductId: item.Id,\n              SapProductCode: item.Code,\n\n              LastCostPirce: item.LastCostPrice, // 只用作之后去初始化值（之后是只读，只给看的上一次进价）\n\n              CostPrice: item.CostPrice, // 只用作之后去初始化值（之后可以继续改进价）\n              StoreSalePrice: item.StoreSalePrice, // 只用作之后去初始化值（之后可以继续改门店售价）\n\n              Quantity: item.myNum,\n\n              SupplierId: this.dataForm.supplierId,\n              SupplierCode: this.dataForm.supplierCode\n            }\n          })),\n          SupplierId: this.dataForm.supplierId,\n          SupplierCode: this.dataForm.supplierCode\n        }\n        if (String(params.StoreId) === '0' || params.SupplierId === '0') {\n          this.$alert('您没有选择供应商、门店!', '提示', {\n            confirmButtonText: '确定'\n          })\n          return false\n        }\n        console.log(params)\n        API.purchase.submitPurchase(params).then(result => {\n          if (result.code === '0000') {\n            this.$message({message: result.message, type: 'success', duration: 3000})\n            this.dataForm = {\n              Name: '',\n              UserName: '', // 当前页面登陆的账号名\n              View: true, // 是否显示门店筛选组件\n              supplierId: '0',\n              supplierCode: '',\n\n              StoreId: '0',\n              StoreCode: '',\n              Buyer: '',\n              Phone: '',\n              Address: '',\n              CategoryText: '', // 这两个后端不需要，只是前端自己弄来做一些判断而已\n              CategoryId: '', //\n              Remark: ''\n            }\n            this.oldCategoryText = ''\n            this.pageInit()\n            this.dataList = []\n            this.purchaseFormal = []\n            // this.dataList = this.purchaseFormal = [] 沃日，那个bug，在子层选中的第一个药品会直接显示到父层的bug就是这句话，写成连续的=就会那样，分开写就好了，不晓得为啥子，空了看看这方面的原理\n          } else {\n            this.$alert(`${result.message}`, '提示', {\n              confirmButtonText: '确定'\n            })\n          }\n        })\n      } else {\n        this.$alert('你还啥都没填呢!', '提示', {\n          confirmButtonText: '确定'\n        })\n      }\n    }\n  }\n}\n</script>\n<style rel=\"stylesheet/scss\" lang=\"scss\" scoped>\n.mod {\n  &-purchase {\n    margin:10px;\n    .el-pagination {\n      margin-top: 15px;\n      text-align: left;\n    }\n  }\n  &-text {\n    font-size: 30px;\n    line-height: 46px;\n  }\n}\n/*表头高重写*/\n.mod-purchase {\n  /*重写头部input的margin-bottom*/\n  & /deep/ .el-form-item {margin-bottom: 5px}\n  margin-top: 0;\n  & /deep/ .el-table--medium th, & /deep/ .el-table--medium td, & /deep/ .el-table th, & /deep/ .el-table td,\n  & /deep/ .el-table--medium th, & /deep/ .el-table--medium td, & /deep/ .el-table th, & /deep/ .el-table td {\n    padding: 0 !important;\n  }\n  & /deep/ .purchaseTableRowClass {\n    height: 30px;\n    line-height: 30px;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/purchase/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mod-purchase\"},[_c('el-form',{ref:\"dataForm\",attrs:{\"inline\":true,\"model\":_vm.dataForm,\"label-width\":\"80px\"}},[_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.savePurchase()}}},[_vm._v(\"保存采购单\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"icon\":\"el-icon-plus\",\"disabled\":_vm.dataForm.StoreId > 0 ? false : true},on:{\"click\":function($event){_vm.addOrUpdateHandle(_vm.dataForm.CategoryId, _vm.dataForm.StoreId)}}},[_vm._v(\"商品导入\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"disabled\":_vm.dataListSelections.length <= 0,\"size\":\"mini\"},on:{\"click\":function($event){_vm.deleteHandle()}}},[_vm._v(\"批量移除\")])],1),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('div',{staticStyle:{\"background-color\":\"#F5F7FA\",\"margin-bottom\":\"-5px\",\"border-radius\":\"5px 5px 0 0\"}},[_c('el-form-item',{attrs:{\"label\":\"操作账号\",\"prop\":\"\"}},[_c('el-input',{staticStyle:{\"width\":\"100px\"},attrs:{\"placeholder\":\"操作账号\",\"clearable\":\"\",\"size\":\"mini\",\"disabled\":true},model:{value:(_vm.$store.getters.getAccountLoginInfoAll.NickName),callback:function ($$v) {_vm.$set(_vm.$store.getters.getAccountLoginInfoAll, \"NickName\", $$v)},expression:\"$store.getters.getAccountLoginInfoAll.NickName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"\",\"prop\":\"CategoryText\"}},[_c('el-radio-group',{attrs:{\"size\":\"mini\"},on:{\"change\":_vm.categoryTextHandle},model:{value:(_vm.dataForm.CategoryText),callback:function ($$v) {_vm.$set(_vm.dataForm, \"CategoryText\", $$v)},expression:\"dataForm.CategoryText\"}},_vm._l((_vm.drugsCategoryList),function(item){return _c('el-radio-button',{key:item.id,attrs:{\"label\":item.text}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"\",\"prop\":\"\"}},[_c('el-select',{staticStyle:{\"width\":\"150px\"},attrs:{\"placeholder\":\"供应厂商\",\"size\":\"mini\"},on:{\"change\":_vm.handleSupplier},model:{value:(_vm.dataForm.supplierId),callback:function ($$v) {_vm.$set(_vm.dataForm, \"supplierId\", $$v)},expression:\"dataForm.supplierId\"}},_vm._l((_vm.supplierArr),function(item){return _c('el-option',{key:item.Id,attrs:{\"label\":item.ShortName,\"value\":item.Id}})}))],1),_vm._v(\" \"),_c('com-store',{ref:\"comStore\",attrs:{\"paramsFather\":{\n        'label_0': '',\n        'size_1': 'mini',\n        'width_2': '150px',\n        'clear_3': true,\n        'multiple_4': false,\n        'must_5': false,\n        'isTrigger': false\n      }},on:{\"eventStore\":_vm.changeStoreData}})],1)],1),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.dataListLoading),expression:\"dataListLoading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.dataList,\"border\":\"\",\"stripe\":\"\",\"height\":_vm.$store.state.documentClientIFRMAE,\"header-cell-style\":_vm.$cxObj.tableHeaderStyle40px,\"row-class-name\":\"purchaseTableRowClass\"},on:{\"selection-change\":_vm.selectionChangeHandle}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"header-align\":\"center\",\"align\":_vm.$store.state.common.align,\"width\":\"50\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":_vm.$store.state.common.align,\"type\":\"index\",\"label\":\"序号\",\"width\":\"50px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"Code\",\"header-align\":\"center\",\"align\":_vm.$store.state.common.align,\"width\":\"100\",\"label\":\"商品编码\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"ShowName\",\"header-align\":\"center\",\"align\":_vm.$store.state.common.align,\"label\":\"药材名称\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"Specification\",\"header-align\":\"center\",\"align\":_vm.$store.state.common.align,\"label\":\"规格\",\"show-overflow-tooltip\":true}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"Quantity\",\"header-align\":\"center\",\"align\":_vm.$store.state.common.align,\"label\":\"库存 (余量)\",\"min-width\":\"110\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"header-align\":\"center\",\"align\":_vm.$store.state.common.align,\"label\":\"采购量\",\"min-width\":\"110\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-input-number',{attrs:{\"precision\":2,\"step\":1,\"min\":0.1,\"max\":10000,\"size\":\"mini\"},on:{\"change\":_vm.handleChange},model:{value:(scope.row.myNum),callback:function ($$v) {_vm.$set(scope.row, \"myNum\", $$v)},expression:\"scope.row.myNum\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"header-align\":\"center\",\"align\":_vm.$store.state.common.align,\"width\":\"190\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\",\"plain\":\"\"},on:{\"click\":function($event){_vm.deleteHandle(scope.row.Id)}}},[_vm._v(\"移除\\n        \")])]}}])})],1),_vm._v(\" \"),_c('el-input',{staticStyle:{\"width\":\"80px\"},attrs:{\"placeholder\":\"联系人\",\"size\":\"mini\"},model:{value:(_vm.dataForm.Buyer),callback:function ($$v) {_vm.$set(_vm.dataForm, \"Buyer\", $$v)},expression:\"dataForm.Buyer\"}}),_vm._v(\" \"),_c('el-input',{staticStyle:{\"width\":\"120px\"},attrs:{\"placeholder\":\"联系电话\",\"size\":\"mini\"},model:{value:(_vm.dataForm.Phone),callback:function ($$v) {_vm.$set(_vm.dataForm, \"Phone\", $$v)},expression:\"dataForm.Phone\"}}),_vm._v(\" \"),_c('el-input',{staticStyle:{\"width\":\"160px\"},attrs:{\"placeholder\":\"门店地址\",\"size\":\"mini\"},model:{value:(_vm.dataForm.Address),callback:function ($$v) {_vm.$set(_vm.dataForm, \"Address\", $$v)},expression:\"dataForm.Address\"}}),_vm._v(\" \"),_c('el-input',{staticStyle:{\"width\":\"300px\"},attrs:{\"size\":\"mini\",\"type\":\"textarea\",\"autosize\":{ minRows: 1, maxRows: 4},\"placeholder\":\"请输入进货备注\"},model:{value:(_vm.dataForm.Remark),callback:function ($$v) {_vm.$set(_vm.dataForm, \"Remark\", $$v)},expression:\"dataForm.Remark\"}}),_vm._v(\" \"),(_vm.addOrUpdateVisible)?_c('add-or-update',{ref:\"addOrUpdate\",attrs:{\"purchaseFatherList\":_vm.purchaseFormal},on:{\"refreshDataList\":_vm.getDataList}}):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8625b12a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/purchase/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8625b12a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8625b12a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-8625b12a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/purchase/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}