webpackJsonp([31],{WILj:function(a,e){},"q4P/":function(a,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t("gyMJ"),r=t("E4LH"),n={data:function(){return{visible:!1,dataListLoading:!1,dataForm:{Name:"",ShortName:"",Contact:"",Phone:"",Address:"",Code:"",QQ:"",Bank:"",TaxNo:"",BankAccount:"",BankAccountName:"",LicenseNo:""},dataRule:{ShortName:Object(r.a)("供应商不能为空"),Name:Object(r.a)("厂家不能为空"),Code:Object(r.a)("供应商编码不能为空"),Contact:Object(r.a)("联系人不能为空"),Phone:Object(r.d)(1),BankAccount:[{required:!0,message:"银行账号必填"},{type:"number",message:"账号必须为数字"}]}}},methods:{init:function(a){var e=this;if(this.dataForm.Code=a||"",this.visible=!0,this.dataForm.Code){var t={PageIndex:1,PageSize:10,IsPaging:!0,name:"",Code:this.dataForm.Code};this.dataListLoading=!0,o.a.supplier.getSupplierList(t).then(function(a){"0000"===a.code&&(e.dataForm=a.data[0]),e.dataListLoading=!1})}},handleClose:function(){this.dataForm={Name:"",ShortName:"",Contact:"",Phone:"",Address:"",Code:"",QQ:"",Bank:"",TaxNo:"",BankAccount:"",BankAccountName:"",LicenseNo:""},this.$refs.dataForm.clearValidate()},dataFormSubmit:function(){var a=this;this.$refs.dataForm.validate(function(e){if(e){var t={Name:a.dataForm.Name,ShortName:a.dataForm.ShortName,Contact:a.dataForm.Contact,Phone:a.dataForm.Phone,Address:a.dataForm.Address,QQ:"",Bank:"",TaxNo:"",BankAccount:"",BankAccountName:"",LicenseNo:""},r={id:a.dataForm.Id,Name:a.dataForm.Name,ShortName:a.dataForm.ShortName,Contact:a.dataForm.Contact,Phone:a.dataForm.Phone,Address:a.dataForm.Address,Code:a.dataForm.Code,QQ:"",Bank:"",TaxNo:"",BankAccount:"",BankAccountName:"",LicenseNo:""};(a.dataForm.Code?o.a.supplier.editSupplier(r):o.a.supplier.createSupplier(t)).then(function(e){"0000"===e.code&&(a.$message({message:"新增成功",type:"success",duration:1500}),a.visible=!1,a.$emit("refreshDataList"))})}})}}},d={render:function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:a.dataForm.roleId?"编辑供应商":"创建供应商","close-on-click-modal":!1,visible:a.visible},on:{"update:visible":function(e){a.visible=e},close:a.handleClose}},[t("el-form",{directives:[{name:"loading",rawName:"v-loading",value:a.dataListLoading,expression:"dataListLoading"}],ref:"dataForm",staticClass:"supplier-dialog",attrs:{model:a.dataForm,rules:a.dataRule,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"供应商",prop:"ShortName"}},[t("el-input",{attrs:{placeholder:"请输入供应商"},model:{value:a.dataForm.ShortName,callback:function(e){a.$set(a.dataForm,"ShortName",e)},expression:"dataForm.ShortName"}})],1),a._v(" "),t("el-form-item",{attrs:{label:"厂家",prop:"Name"}},[t("el-input",{attrs:{placeholder:"请输入厂家名"},model:{value:a.dataForm.Name,callback:function(e){a.$set(a.dataForm,"Name",e)},expression:"dataForm.Name"}})],1),a._v(" "),t("el-form-item",{attrs:{label:"联系人",prop:"Contact"}},[t("el-input",{attrs:{placeholder:"请输入联系人"},model:{value:a.dataForm.Contact,callback:function(e){a.$set(a.dataForm,"Contact",e)},expression:"dataForm.Contact"}})],1),a._v(" "),t("el-form-item",{attrs:{label:"联系电话",prop:"Phone"}},[t("el-input",{attrs:{placeholder:"请输入联系电话"},model:{value:a.dataForm.Phone,callback:function(e){a.$set(a.dataForm,"Phone",e)},expression:"dataForm.Phone"}})],1),a._v(" "),t("el-form-item",{attrs:{label:"供应商地址",prop:"Address"}},[t("el-input",{attrs:{placeholder:"请输入地址"},model:{value:a.dataForm.Address,callback:function(e){a.$set(a.dataForm,"Address",e)},expression:"dataForm.Address"}})],1)],1),a._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(e){a.visible=!1}}},[a._v("取消")]),a._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(e){a.dataFormSubmit()}}},[a._v("确定")])],1)],1)},staticRenderFns:[]};var s=t("VU/8")(n,d,!1,function(a){t("WILj")},"data-v-7699b17e",null);e.default=s.exports}});
//# sourceMappingURL=31.94550d798cdb17577adf.js.map